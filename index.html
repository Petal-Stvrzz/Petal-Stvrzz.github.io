<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>AquaProxxi.net ｡✧･ﾟ</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
    :root{
        --bg:#0d0d0d; --bg2:#1c1c1c; --text:#e5e5e5;
        --accent:#4a90ff; --border:#333; --error:#ff5c5c; --success:#5cff8d;
        --gradient: linear-gradient(135deg, #4a90ff, #ff6b6b);
    }
    *{margin:0;padding:0;box-sizing:border-box;}
    body{font-family:system-ui,Arial,sans-serif;background:var(--bg);color:var(--text);display:flex;flex-direction:column;height:100vh;overflow:hidden;}
    .toolbar{background:var(--bg2);padding:0.8rem 1rem;display:flex;gap:0.6rem;align-items:center;flex-wrap:wrap;border-bottom:1px solid var(--border);}
    button{background:var(--accent);color:#fff;border:none;border-radius:6px;padding:0.5rem 1rem;cursor:pointer;font-weight:600;transition:.2s;}
    button:hover{opacity:.9;transform:translateY(-1px);}
    button:disabled{opacity:.4;cursor:not-allowed;}
    input[type=url]{flex:1;min-width:180px;padding:0.5rem 0.8rem;background:#000;border:1px solid var(--border);color:var(--text);border-radius:6px;font-size:1rem;}
    input:focus{outline:none;border-color:var(--accent);box-shadow:0 0 0 2px rgba(74,144,255,.3);}
    .frame-wrap{flex:1;position:relative;background:#000;overflow:hidden;}
    iframe{width:100%;height:100%;border:none;background:#fff;}
    .status{background:var(--bg2);padding:0.4rem 1rem;font-size:0.8rem;display:flex;justify-content:space-between;border-top:1px solid var(--border);}
    .overlay{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);background:rgba(0,0,0,.9);padding:1.5rem 2rem;border-radius:12px;text-align:center;display:none;z-index:100;}
    .overlay.show{display:block;}
    .spinner{width:40px;height:40px;border:4px solid #333;border-top:4px solid var(--accent);border-radius:50%;animation:s 1s linear infinite;margin:0 auto 1rem;}
    @keyframes s{to{transform:rotate(360deg);}}
    .bookmark-bar{background:var(--bg2);padding:0.4rem 1rem;border-bottom:1px solid var(--border);display:none;overflow-x:auto;}
    .bookmark-bar.show{display:block;}
    .bookmark-list{display:flex;gap:0.5rem;flex-wrap:nowrap;align-items:center;}
    .bookmark-btn{background:#444;color:var(--text);padding:0.4rem 0.8rem;font-size:0.85rem;border-radius:4px;white-space:nowrap;max-width:150px;overflow:hidden;text-overflow:ellipsis;cursor:pointer;}
    .bookmark-btn:hover{background:#555;}
    .bookmark-delete{margin-left:0.3rem;color:#ff6b6b;font-weight:bold;cursor:pointer;}
    /* THEME MENU */
    .theme-menu{position:absolute;top:60px;right:1rem;background:var(--bg2);border:1px solid var(--border);border-radius:8px;padding:0.8rem;width:280px;box-shadow:0 4px 12px rgba(0,0,0,.5);z-index:1000;display:none;}
    .theme-menu.show{display:block;}
    .theme-slot{margin:0.6rem 0;display:flex;align-items:center;gap:0.5rem;}
    .gradient-preview{width:80px;height:40px;border-radius:6px;border:2px solid #555;cursor:pointer;background:var(--gradient);}
    .theme-slot input[type=color]{width:40px;height:40px;border:none;cursor:pointer;}
    .theme-slot button{flex:1;padding:0.4rem;font-size:0.85rem;}
    .gradient-controls{display:flex;gap:0.3rem;}
</style>
</head>
<body>
<div class="toolbar">
    <button id="backBtn">Back</button>
    <button id="fwdBtn">Forward</button>
    <button id="reloadBtn">Reload</button>
    <input type="url" id="urlIn" placeholder="https://youtube.com">
    <button id="goBtn">Go</button>
    <button id="bookmarkBtn">Add Bookmark</button>
    <button id="themeBtn">Theme</button>
</div>
<div style="text-align:center; padding:1rem; background:rgba(255,255,255,0.06); border-bottom:1px solid rgba(255,182,255,0.3);">
  <h1 style="margin:0; font-size:2.2rem; font-family:'Comic Sans MS',cursive; background:linear-gradient(135deg,#ffb3ff,#b3e6ff); -webkit-background-clip:text; -webkit-text-fill-color:transparent;">
    AquaProxxi.net ｡✧･ﾟ
  </h1>
  <p style="margin:6px 0 0; font-size:1.1rem; color:#ffb3ff; opacity:0.95;">
    〜☆ Your hall-pass to the hidden depths of the internet!!1! ｡ﾟ(ﾟ^ω`ﾟ)ﾟ｡ 〜☆
  </p>
</div>
<div class="bookmark-bar" id="bookmarkBar">
    <div class="bookmark-list" id="bookmarkList"></div>
</div>
<!-- GRADIENT THEME MENU -->
<div class="theme-menu" id="themeMenu">
    <div class="theme-slot">
        <div class="gradient-preview" id="slot1Preview"></div>
        <div class="gradient-controls">
            <input type="color" id="slot1Color1" value="#4a90ff">
            <input type="color" id="slot1Color2" value="#ff6b6b">
        </div>
        <button id="slot1Btn">Slot 1</button>
    </div>
    <div class="theme-slot">
        <div class="gradient-preview" id="slot2Preview"></div>
        <div class="gradient-controls">
            <input type="color" id="slot2Color1" value="#5cff8d">
            <input type="color" id="slot2Color2" value="#ffd93d">
        </div>
        <button id="slot2Btn">Slot 2</button>
    </div>
    <div class="theme-slot">
        <div class="gradient-preview" id="slot3Preview"></div>
        <div class="gradient-controls">
            <input type="color" id="slot3Color1" value="#ff6b6b">
            <input type="color" id="slot3Color2" value="#9b59b6">
        </div>
        <button id="slot3Btn">Slot 3</button>
    </div>
    <div class="theme-slot">
        <div class="gradient-preview" id="slot4Preview"></div>
        <div class="gradient-controls">
            <input type="color" id="slot4Color1" value="#00cec9">
            <input type="color" id="slot4Color2" value="#6c5ce7">
        </div>
        <button id="slot4Btn">Slot 4</button>
    </div>
</div>
<div class="frame-wrap">
    <div class="overlay" id="load"><div class="spinner"></div>Connecting…</div>
    <div class="overlay" id="err"><div>Site blocked or failed<br><small>Copy URL and reload</small></div></div>
    <iframe id="frame" sandbox="allow-same-origin allow-scripts allow-forms allow-popups allow-downloads allow-modals allow-top-navigation"></iframe>
</div>
<div class="status"><span id="stat">Ready</span><span id="sec">Secure</span></div>
<script>
const PROXY = 'https://api.codetabs.com/v1/proxy?quest=';
const iframe = document.getElementById('frame');
const urlIn = document.getElementById('urlIn');
const loadOv = document.getElementById('load');
const errOv = document.getElementById('err');
const stat = document.getElementById('stat');
const sec = document.getElementById('sec');
const backBtn = document.getElementById('backBtn');
const fwdBtn = document.getElementById('fwdBtn');
const reloadBtn= document.getElementById('reloadBtn');
const goBtn = document.getElementById('goBtn');
const bookmarkBtn = document.getElementById('bookmarkBtn');
const themeBtn = document.getElementById('themeBtn');
const themeMenu = document.getElementById('themeMenu');
const bookmarkBar = document.getElementById('bookmarkBar');
const bookmarkList = document.getElementById('bookmarkList');
let currentUrl = '';
let bookmarks = JSON.parse(localStorage.getItem('AquaProxxi_bookmarks') || '[]');
let gradients = JSON.parse(localStorage.getItem('AquaProxxi_gradients') || JSON.stringify({
    1: {c1:'#4a90ff', c2:'#ff6b6b'},
    2: {c1:'#5cff8d', c2:'#ffd93d'},
    3: {c1:'#ff6b6b', c2:'#9b59b6'},
    4: {c1:'#00cec9', c2:'#6c5ce7'}
}));
/* ===== GRADIENT THEMES (SAVED FOREVER) ===== */
function saveGradients(){ localStorage.setItem('AquaProxxi_gradients', JSON.stringify(gradients)); }
function applyGradient(c1, c2){
    const grad = `linear-gradient(135deg, ${c1}, ${c2})`;
    document.documentElement.style.setProperty('--gradient', grad);
    document.documentElement.style.setProperty('--accent', c1);
    updateIframeGradient(c1, c2);
}
function updateIframeGradient(c1, c2){
    try{
        const d = iframe.contentDocument;
        if(!d) return;
        const css = `
            :root{--gradient:linear-gradient(135deg,${c1},${c2});--accent:${c1};}
            button,.btn,a[href]{background:var(--gradient)!important;color:#fff!important;}
            .accent-bg{background:var(--gradient)!important;}
        `;
        let style = d.getElementById('proxy-theme');
        if(!style){ style = d.createElement('style'); style.id='proxy-theme'; d.head.appendChild(style); }
        style.textContent = css;
    }catch(e){}
}
function initGradientSlots(){
    for(let i=1;i<=4;i++){
        const c1 = document.getElementById(`slot${i}Color1`);
        const c2 = document.getElementById(`slot${i}Color2`);
        const preview = document.getElementById(`slot${i}Preview`);
        const btn = document.getElementById(`slot${i}Btn`);
        c1.value = gradients[i].c1;
        c2.value = gradients[i].c2;
        updatePreview(i);
        c1.oninput = c2.oninput = () => {
            gradients[i].c1 = c1.value;
            gradients[i].c2 = c2.value;
            updatePreview(i);
            saveGradients();
        };
        btn.onclick = () => {
            applyGradient(c1.value, c2.value);
            themeMenu.classList.remove('show');
        };
    }
    applyGradient(gradients[1].c1, gradients[1].c2);
}
function updatePreview(i){
    const c1 = document.getElementById(`slot${i}Color1`).value;
    const c2 = document.getElementById(`slot${i}Color2`).value;
    document.getElementById(`slot${i}Preview`).style.background = `linear-gradient(135deg, ${c1}, ${c2})`;
}
/* ===== BOOKMARKS, NAV, UI, ETC. (All Previous Fixes) ===== */
function renderBookmarks(){ /* ... same as before ... */ }
function saveBookmarks(){ localStorage.setItem('AquaProxxi_bookmarks', JSON.stringify(bookmarks)); }
function addBookmark(){ /* ... */ }
function load(){ /* ... */ }
function goBack(){ try{iframe.contentWindow.history.back();}catch(e){} }
function goForward(){ try{iframe.contentWindow.history.forward();}catch(e){} }
function reload(){ showLoad(); iframe.src = iframe.src; }
function setStat(txt, err=false){ stat.textContent = txt; stat.style.color = err ? 'var(--error)' : ''; }
function showLoad(){ loadOv.classList.add('show'); errOv.classList.remove('show'); }
function hideLoad(){ loadOv.classList.remove('show'); }
function showErr(){ errOv.classList.add('show'); hideLoad(); setStat('Failed to load', true); }
function updateSecurity(u){ /* ... */ }
goBtn.onclick = load;
urlIn.addEventListener('keydown', e => { if(e.key==='Enter') load(); });
backBtn.onclick = goBack;
fwdBtn.onclick = goForward;
reloadBtn.onclick = reload;
bookmarkBtn.onclick = addBookmark;
themeBtn.onclick = () => themeMenu.classList.toggle('show');
document.addEventListener('click', e => {
    if(!themeBtn.contains(e.target) && !themeMenu.contains(e.target)){
        themeMenu.classList.remove('show');
    }
});
iframe.onload = () => { hideLoad(); setStat(`Loaded ${new URL(currentUrl).hostname}`); renderBookmarks(); updateNavButtons(); updateIframeGradient(gradients[1].c1, gradients[1].c2); };
iframe.onerror = () => showErr();
function updateNavButtons(){ /* ... */ }
setInterval(updateNavButtons, 600);
renderBookmarks();
updateNavButtons();
initGradientSlots();
</script>
</body>
<div style="text-align:center; padding:0.6rem; background:rgba(179,230,255,0.12); font-family:'Comic Sans MS',cursive; color:#b3e6ff; font-size:0.9rem;">
  Welcome! Type any site below. Your traffic is proxied — <b>your IP stays hidden</b>.
</div>

</html>

